<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Batch ID Card QR Generator ‚Äî Siwaras Project</title>

<style>
  /* ===== 1. VARIABEL DAN RESET ===== */
  :root {
    --bg-primary: #0f172a; /* Latar belakang utama (gelap) */
    --bg-secondary: #1e293b; /* Latar untuk card/input (sedikit lebih terang) */
    --bg-card: #ffffff; /* Latar kartu QR (putih) */
    --text-primary: #f1f5f9; /* Teks utama (terang) */
    --text-secondary: #94a3b8; /* Teks sekunder (lebih redup) */
    --text-card: #111827; /* Teks di atas kartu (gelap) */
    --accent-primary: #ff6a00; /* Warna aksen utama (oranye) */
    --accent-hover: #ff8533; /* Warna aksen saat hover */
    --border-color: #334155; /* Warna border yang lembut */
    --shadow: 0 10px 25px rgba(0, 0, 0, 0.4); /* Bayangan untuk efek kedalaman */
    --radius: 12px; /* Radius sudut yang konsisten */
  }

  * {
    box-sizing: border-box;
  }

  html, body {
    height: 100%;
    margin: 0;
    background: var(--bg-primary);
    color: var(--text-primary);
    font-family: 'Courier New', sans-serif;
    line-height: 1.6;
  }

  /* ===== 2. LAYOUT UTAMA ===== */
  .wrap {
    max-width: 900px;
    margin: 20px auto;
    padding: 20px;
  }

  /* ======== HEADER FIXED ======== */
  header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    background: linear-gradient(135deg, #004aad, #001f3f);
    color: #fff;
    text-align: center;
    padding: 12px 0;
    font-size: 12px;
    font-weight: bold;
    letter-spacing: 1px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    z-index: 10;
    border-radius: 17px;
  }

  /* ======== ANIMASI & TOMBOL ======== */
  h1 {
    font-size: 8px;
    font-weight: 700;
    color: #ffffff;
    letter-spacing: 2px;
    animation: glow 2s ease-in-out infinite alternate;
  }

  h2 {
    margin-top: 2px;
    font-size: 0.1rem;
    font-weight: 600;
    color: #0dcaf0;
    margin-bottom: 0px;
    animation: fadeInUp 1s ease-out 0.3s forwards;
    opacity: 0;
  }

  /* ======== MAIN CONTENT SCROLLABLE ======== */
  main {
    flex: 1;
    margin-top: 30px;
    margin-bottom: 50px;
    padding: 15px;
    overflow-y: auto;
    text-align: center;
  }

  p.lead {
    margin: 10px 0 0;
    color: var(--text-secondary);
    font-size: 14px;
  }

  label {
    display: block;
    font-size: 14px;
    font-weight: 600;
    margin: 15px 0 8px;
    color: var(--text-primary);
  }

  /* ===== 4. KOMPONEN FORM ===== */
  textarea {
    width: 100%;
    min-height: 150px;
    padding: 15px;
    border-radius: var(--radius);
    border: 1px solid var(--border-color);
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    font-size: 14px;
    resize: vertical;
    transition: border-color 0.3s, box-shadow 0.3s;
  }

  textarea:focus {
    outline: none;
    border-color: var(--accent-primary);
    box-shadow: 0 0 0 3px rgba(255, 106, 0, 0.2);
  }

  .controls {
    display: flex;
    gap: 32px;
    flex-wrap: wrap;
    margin-top: 15px;
  }

  /* --- Gaya Utama untuk Semua Tombol --- */
  button {
    flex-grow: 1;
    padding: 14px 24px;
    border: none;
    border-radius: var(--radius);
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    background-image: 
        linear-gradient(90deg, #B8860B, #FFD700, #FFA500, #FFD700, #B8860B),
        linear-gradient(135deg, #005f73, #0a9396, #00a8cc);
    background-size: 200% auto, 100% auto;
    background-position: 0% center, center center;
    color: transparent;
    background-clip: text, padding-box;
    -webkit-background-clip: text, padding-box;
    animation: shimmerText 3s linear infinite;
    box-shadow: 0 4px 15px rgba(0, 119, 190, 0.4);
    transition: transform 0.2s ease, box-shadow 0.3s ease, filter 0.3s ease;
  }

  button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 168, 204, 0.5);
    filter: brightness(1.1);
  }

  button:active {
    transform: translateY(0) scale(0.98);
    filter: brightness(1);
  }

  .note {
    font-size: 11px;
    color: var(--text-secondary);
    margin-top: 15px;
    font-style: italic;
  }

  /* ===== 5. TAMPILAN KARTU QR ===== */
  #qr-list {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 20px;
    margin-top: 30px;
  }

  .cardCanvasWrap {
    background: var(--bg-card);
    padding: 15px;
    border-radius: var(--radius);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    box-shadow: var(--shadow);
    transition: transform 0.3s, box-shadow 0.3s;
  }

  .cardCanvasWrap:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
  }

  canvas {
    width: 100%;
    height: auto;
    border-radius: 8px;
    display: block;
    background: #fff;
  }

  .dlBtn {
    background-color: transparent;
    color: var(--accent-primary);
    padding: 8px 12px;
    border-radius: 17px;
    font-weight: 700;
    border: 2px solid var(--accent-primary);
    transition: background-color 0.3s, color 0.3s;
  }

  .dlBtn:hover {
    background-color: var(--accent-primary);
    color: #fff;
  }

  /* ======== TOMBOL HOME TENGAH BAWAH ======== */
  .home-btn {
    display: inline-block;
    margin-top: 15px;
    padding: 12px 20px;
    font-size: 1rem;
    font-weight: bold;
    color: #fff;
    text-decoration: none;
    background: linear-gradient(135deg, #004aad, #ffd700);
    border-radius: 25px;
    border: 2px solid #fff;
    box-shadow: 0 0 8px rgba(255,255,255,0.4);
    transition: all 0.3s ease;
  }

  .home-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 0 15px rgba(255,215,0,0.6);
  }

  /* ======== FOOTER FIXED ======== */
  footer {
    border-radius: 19px;
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(3px);
    text-align: center;
    padding: 6px 0;
    border-top: 1px solid rgba(255,255,255,0.1);
    z-index: 999;
  }

  footer p {
    margin: 2px 0;
    font-size: 0.75rem;
    color: #aaa;
    font-weight: normal;
  }

  footer p b {
    font-weight: 600;
    color: #fff;
  }

  footer span {
    cursor: pointer;
    position: relative;
    color: #00d5d5;
    transition: color 0.3s ease;
    background: linear-gradient(
        90deg,
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, 0.5) 50%,
        rgba(255, 255, 255, 0) 100%
    );
    background-size: 200% auto;
    background-clip: text;
    -webkit-background-clip: text;
    animation: shimmer 3s linear infinite;
  }

  /* --- Animasi --- */
  @keyframes glow {
    from {
      text-shadow: 0 0 10px #fff, 0 0 20px #0dcaf0;
    }
    to {
      text-shadow: 0 0 20px #0dcaf0, 0 0 40px #00ffff;
    }
  }

  @keyframes shimmerText {
    to {
      background-position: 200% center;
    }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes shimmer {
    to {
      background-position: 200% center;
    }
  }

  /* --- Responsif untuk Perangkat Mobile --- */
  @media (max-width: 768px) {
    h1 {
      font-size: 1.2rem;
    }
    h2 {
      font-size: 1.0rem;
    }
    .container {
      padding: 30px 40px;
    }
  }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>PT.JAYA KONSTRUKSi</h1> 
  </header>
  
  <main>
    <p class="lead"><b>Jakarta</b> üáÆüá© Indonesia üáÆüá©.</p>
    <p style="font-style: italic;"><small>Masukkan daftar (Nama,divisi) per baris.</small></p>

    <label for="list"><small>Daftar Murid (format: <code>Nama,divisi</code> per baris)</small></label>
    <textarea id="list" placeholder="Contoh:&#10;Budi,6A&#10;Ani,5B"></textarea>

    <div class="controls">
      <button id="genAll">Generate Semua</button>
      <button id="clearAll">Hapus Preview</button>
    </div>
    <div class="note">Download QR Code manual tiap kartu. File ini bisa offline ‚Äî pastikan <code>qrious.min.js</code> ada di folder yang sama.</div>

    <div id="qr-list"></div>
    
    <!-- Tombol Home di bawah tombol terakhir -->
    <a href="index.html" class="home-btn" title="Kembali ke Home">üè†</a>
  </main>
  
  <footer>
    <p>
      <span onclick="window.open('https://siwarasproject.blogspot.com','_blank')">
        ¬© 2025 Siwaras Project
      </span>
    </p>
    <p><b> üáÆüá© Indonesia üáÆüá©</b></p>
  </footer>
</div>

<!-- JavaScript tidak diubah, sesuai permintaan -->
<script src="./qrious.min.js"></script>
<script>
(() => {
  const genBtn = document.getElementById('genAll');
  const clearBtn = document.getElementById('clearAll');
  const listEl = document.getElementById('list');
  const out = document.getElementById('qr-list');

  genBtn.addEventListener('click', ()=> {
    out.innerHTML = '';
    const lines = listEl.value.split(/\r?\n/).map(l=>l.trim()).filter(l=>l);
    if(!lines.length){ alert('Masukkan daftar murid dulu. Format: Nama,divisi di tiap baris'); return; }
    lines.forEach(line => {
      const parts = line.split(',');
      if(parts.length<2) return;
      const nama = parts[0].trim();
      const divisi = parts.slice(1).join(',').trim();

      // create qr (small) using QRious
      const qrSize = 140;
      const qr = new QRious({value:`${nama},${divisi}`, size:qrSize, background:'white', foreground:'black', level:'H'});

      // create card canvas
      const cw = 300, ch = 380;
      const canvas = document.createElement('canvas');
      canvas.width = cw; canvas.height = ch;
      const ctx = canvas.getContext('2d');

      // background white
      ctx.fillStyle = '#fff'; ctx.fillRect(0,0,cw,ch);
      // border accent
      ctx.strokeStyle = '#ff6a00'; ctx.lineWidth = 6; ctx.strokeRect(4,4,cw-8,ch-8);

      // school logo placeholder (small left)
      ctx.fillStyle = '#111'; ctx.font = '700 11px Arial'; ctx.textAlign='left';
      ctx.fillText('PT.JAYA KONSTRUKSI', 18, 34);
      ctx.font='10px Arial'; ctx.fillStyle='#444'; ctx.fillText('Jakarta,Indonesia ', 18, 52);

      // name
      ctx.fillStyle='#000'; ctx.font='bold 22px Arial'; ctx.textAlign='center';
      ctx.fillText(nama, cw/2, 100);

      // class
      ctx.font='16px Arial'; ctx.fillText(divisi, cw/2, 130);

      // draw QR background box
      const qrBox = qrSize + 24;
      const qx = (cw - qrBox)/2, qy = 160;
      ctx.fillStyle = '#CFCFCF'; ctx.fillRect(qx, qy, qrBox, qrBox);
      // put qr image
      const img = new Image();
      img.onload = ()=> {
        ctx.drawImage(img, qx+12, qy+12, qrSize, qrSize);
        // bottom footer text
        ctx.font='11px Arial'; ctx.fillStyle='#333'; ctx.textAlign='center';
        ctx.fillText('Absensi QR ‚Äî ¬©2025 Siwaras_Project', cw/2, qy + qrBox + 34);
        // append
        const wrap = document.createElement('div');
        wrap.className = 'cardCanvasWrap';
        wrap.appendChild(canvas);
        // download button
        const dl = document.createElement('button'); dl.className='dlBtn';
        dl.textContent = 'Download PNG';
        dl.onclick = ()=> {
          const a=document.createElement('a');
          a.href = canvas.toDataURL('image/png');
          a.download = `${nama.replace(/\s+/g,'_')}.png`;
          a.click();
        };
        wrap.appendChild(dl);
        out.appendChild(wrap);
      };
      img.src = qr.toDataURL();
    });
  });

  clearBtn.addEventListener('click', ()=> out.innerHTML='');
})();
</script>
</body>
</html>